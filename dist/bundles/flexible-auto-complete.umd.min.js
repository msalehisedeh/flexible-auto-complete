!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/http"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/http","@angular/common"],t):t(e["flexible-auto-complete"]={},e.ng.core,e.ng.http,e.ng.common)}(this,function(e,t,o,i){"use strict";var r=function(){function e(e){this.http=e,this.entry="",this.filteredData=[],this.placeholder="",this.remotepath="body",this.prefetchdata=!1,this.keymap=[],this.icon="",this.message="",this.direction="vertical",this.delayby=300,this.triggeron=2,this.viewport="200px",this.onselect=new t.EventEmitter}return e.prototype.ngAfterViewInit=function(){var o=this;this.prefetchdata&&this.source&&this.http.get(this.source).subscribe(function(e){var t=o.traverseResult(e);t&&(o.data=t)})},e.prototype.traverseResult=function(t){var e=this.remotepath.split(".");e.map(function(e){t=t?t[e]:undefined});var o=e.length?t:undefined;return o&&"string"==typeof o?JSON.parse(o):o},e.prototype.clickup=function(e,t){13===e.which&&this.selectTab(t)},e.prototype.keyup=function(e){var a=this;13===e.which?this.filteredData&&this.filteredData.length&&this.selectTab(this.filteredData[0]):(this.entry=e.target.value,this.interval&&clearTimeout(this.interval),this.interval=setTimeout(function(){var n=a.entry.toLowerCase();n.length>a.triggeron?!a.prefetchdata&&a.source?a.http.get(a.source+n).subscribe(function(e){var t=a.traverseResult(e);t&&(a.data=t,a.filteredData=t)}):a.data&&(a.filteredData=a.data.filter(function(e){for(var t=!1,o=0;o<a.keymap.length;o++){var i=e[a.keymap[o]],r=i?i.toLowerCase():undefined;if(r&&0<=r.indexOf(n)){t=!0;break}}return t})):a.filteredData=[]},this.delayby))},e.prototype.selectTab=function(e){this.onselect.emit(e),this.filteredData=[],this.entry=""},e}();r.decorators=[{type:t.Component,args:[{selector:"flexible-auto-complete",template:'\n<label for="">\n    <span class="off-screen" [textContent]="message"></span>\n    <input [value]="entry"\n        [placeholder]= "placeholder"\n        (keyup)="keyup($event)" />\n    <span [class]="icon ? icon : null" *ngIf="filteredData.length == 0" [class.icon]="true" area-hidden="true"></span>\n    <span class="icon fa fa-reply" *ngIf="icon && filteredData.length" area-hidden="true"></span>\n</label>\n<ul *ngIf="filteredData.length"\n    role="list"\n    class="viewport"\n    [style.max-width]="direction === \'horizontal\' ? viewport : null"\n    [style.overflow-x]="direction === \'horizontal\' ? \'auto\' : null"\n    [style.flex-direction]="direction === \'horizontal\' ? \'row\' : \'column\'"\n    [style.max-height]="direction === \'vertical\' ? viewport : null"\n    [style.overflow-y]="direction === \'vertical\' ? \'auto\' : null">\n    <li role="listitem" tabindex="0" *ngFor="let item of filteredData" (keyup)="clickup($event, item)" (click)="selectTab(item)">\n        <ng-container\n            [ngTemplateOutlet]="template ? template : defaultTemplate"\n            [ngTemplateOutletContext]="{data: item}"></ng-container>\n        <span class="icon fa fa-reply" area-hidden="true"></span>\n    </li>\n</ul>\n<ng-template #defaultTemplate let-detail="data">\n  <span *ngFor="let x of keymap" [textContent]="detail[x] + \'&nbsp;\'"></span>\n</ng-template>\n',styles:[":host{display:table;width:100%}:host label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;border:1px solid #ddd;padding:2px;height:22px;vertical-align:top;border-radius:2px;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 0 1px rgba(0,0,0,.08);box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 0 1px rgba(0,0,0,.08);-webkit-transition:-webkit-box-shadow .2s cubic-bezier(.4,0,.2,1);transition:-webkit-box-shadow .2s cubic-bezier(.4,0,.2,1);transition:box-shadow .2s cubic-bezier(.4,0,.2,1);transition:box-shadow .2s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .2s cubic-bezier(.4,0,.2,1)}:host label input{-webkit-box-flex:1;-ms-flex:1;flex:1;border:0;padding-left:16px}:host label .icon{-webkit-box-flex:0;-ms-flex:0 0 15px;flex:0 0 15px;margin-right:5px;margin-top:3px;color:#ddd}:host .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host .viewport{-webkit-box-sizing:border-box;box-sizing:border-box;list-style-type:none;display:-webkit-box;display:-ms-flexbox;display:flex;margin:0;padding:0;z-index:2;border:1px solid #ddd;border-radius:2px;background-color:#fff;overflow:hidden}:host .viewport li{-webkit-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;background-color:#fdfeff;padding:2px 5px;position:relative}:host .viewport li:hover{background-color:#ff3e58}:host .viewport li:focus{background-color:#3e8bff}:host .viewport li .icon{color:#fff;display:block;right:0;top:5px;position:absolute;margin-right:10px}"]}]}],r.ctorParameters=function(){return[{type:o.Http}]},r.propDecorators={placeholder:[{type:t.Input,args:["placeholder"]}],remotepath:[{type:t.Input,args:["remotepath"]}],prefetchdata:[{type:t.Input,args:["prefetchdata"]}],keymap:[{type:t.Input,args:["keymap"]}],icon:[{type:t.Input,args:["icon"]}],message:[{type:t.Input,args:["message"]}],direction:[{type:t.Input,args:["direction"]}],delayby:[{type:t.Input,args:["delayby"]}],triggeron:[{type:t.Input,args:["triggeron"]}],viewport:[{type:t.Input,args:["viewport"]}],template:[{type:t.Input,args:["template"]}],source:[{type:t.Input,args:["source"]}],data:[{type:t.Input,args:["data"]}],onselect:[{type:t.Output,args:["onselect"]}]};var n=function(){};n.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,o.HttpModule],declarations:[r],exports:[r],entryComponents:[],providers:[],schemas:[t.CUSTOM_ELEMENTS_SCHEMA]}]}],n.ctorParameters=function(){return[]},e.FlexibleAutoCompleteComponent=r,e.FlexibleAutoCompleteModule=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=flexible-auto-complete.umd.min.js.map
