{"version":3,"file":"flexible-auto-complete.umd.js.map","sources":["ng://flexible-auto-complete/src/app/flexible-auto-complete/flexible-auto-complete.component.ts","ng://flexible-auto-complete/src/app/flexible-auto-complete/flexible-auto-complete-module.ts"],"sourcesContent":["/*\r\n* Provides rendering of a table which is using the given FlexibleTableHeader set in\r\n* order to tabulate the given data. As per definition of earch header component,\r\n* a column could be hidden, sortable, or draggable. Each table row can expand/collapse\r\n* or respond to a click action.\r\n*/\r\nimport {\r\n    Component,\r\n\tInput,\r\n\tOutput,\r\n\tAfterViewInit,\r\n\tEventEmitter,\r\n\tElementRef\r\n} from '@angular/core';\r\n\r\nimport { Http } from '@angular/http';\r\n\r\n@Component({\r\n\tselector: 'flexible-auto-complete',\r\n\ttemplateUrl: './flexible-auto-complete.component.html',\r\n\tstyleUrls: ['./flexible-auto-complete.component.scss']\r\n})\r\nexport class FlexibleAutoCompleteComponent implements AfterViewInit{\r\n\r\n\tprivate interval: any;\r\n\r\n\tentry = \"\";\r\n\tfilteredData: any[] = [];\r\n\r\n\t@Input(\"placeholder\")\r\n\tpublic placeholder = \"\";\r\n\t\r\n\t@Input(\"remotepath\")\r\n\tpublic remotepath = \"body\";\r\n\t\r\n\t@Input(\"prefetchdata\")\r\n\tpublic prefetchdata = false;\r\n\t\r\n\t@Input(\"animateonresult\")\r\n\tpublic animateonresult = false;\r\n\t\r\n\t@Input(\"allowdropdown\")\r\n\tpublic allowdropdown = false;\r\n\t\r\n\t@Input('keymap')\r\n    public keymap: any[] = [];\r\n\r\n    @Input(\"icon\")\r\n    public icon = \"\";\r\n\r\n    @Input(\"message\")\r\n    public message = \"\";\r\n\r\n\t@Input(\"direction\")\r\n    public direction = \"vertical\";\r\n\r\n    @Input(\"delayby\")\r\n    public delayby = 300;\r\n\r\n    @Input(\"triggeron\")\r\n    public triggeron = 2;\r\n\r\n    @Input(\"viewport\")\r\n    public viewport = \"200px\";\r\n\r\n\t@Input(\"template\")\r\n    public template: any;\r\n\r\n    @Input(\"source\")\r\n    public source: string;\r\n\r\n    @Input(\"data\")\r\n    public data: any;\r\n\r\n\t@Output(\"onselect\")\r\n\tonselect = new EventEmitter();\r\n\r\n\t@Output(\"onsearch\")\r\n\tonsearch = new EventEmitter();\r\n\r\n\tconstructor(private http: Http, private el: ElementRef) {}\r\n\t\r\n\tngAfterViewInit() {\r\n\t\tthis.resize(false);\r\n\t\tif (this.prefetchdata && this.source) {\r\n\t\t\tthis.http.get(this.source).subscribe(\r\n\t\t\t\t(result: any) => {\r\n\t\t\t\t\tconst response = this.traverseResult(result);\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tthis.data = response;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate traverseResult(response) {\r\n\t\tconst list = this.remotepath.split(\".\");\r\n\t\tlist.map( (item) => {\r\n\t\t\tresponse = response ? response[item] : undefined;\r\n\t\t});\r\n\t\tconst x = list.length ? response : undefined;\r\n\t\treturn x && (typeof x === \"string\") ? JSON.parse(x) : x;\r\n\t}\r\n\r\n\tclickup(event, item, i, max) {\r\n\t\tconst code = event.which;\r\n\t\t\r\n\t\tif (code === 13) {\r\n\t\t\tthis.selectTab( item );\r\n\t\t} else if (code === 38 && i>0) { // arrow up\r\n\t\t\tdocument.getElementById(\"item\" + ( i - 1)).focus();\r\n\t\t} else if (code === 40 && i < max) { // arrow down\r\n\t\t\tdocument.getElementById(\"item\" + ( i + 1)).focus();\r\n\t\t}\r\n\t}\r\n\tprivate resize(flag) {\r\n\t\tif (this.animateonresult) {\r\n\t\t\tif (flag) {\r\n\t\t\t\tthis.el.nativeElement.classList.add(\"has-data\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.el.nativeElement.classList.remove(\"has-data\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.el.nativeElement.classList.add(\"has-data\");\r\n\t\t}\r\n\t}\r\n\tkeyup(event) {\r\n        const code = event.which;\r\n\t\t\r\n\t\tif (code === 13) {\r\n\t\t\tif (this.filteredData && this.filteredData.length) {\r\n\t\t\t\tthis.selectTab( this.filteredData[0] );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.entry = event.target.value;\r\n\t\t\tif (this.interval) {\r\n\t\t\t\tclearTimeout(this.interval);\r\n\t\t\t}\r\n\t\t\tthis.interval = setTimeout( () => {\r\n\t\t\t\tconst key = this.entry.toLowerCase();\r\n\t\t\t\tif (key.length > this.triggeron) {\r\n\t\t\t\t\tif (!this.prefetchdata && this.source) {\r\n\t\t\t\t\t\tthis.http.get(this.source + key).subscribe(\r\n\t\t\t\t\t\t\t(result: any) => {\r\n\t\t\t\t\t\t\t\tconst response = this.traverseResult(result);\r\n\t\t\t\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\t\t\t\tthis.data = response;\r\n\t\t\t\t\t\t\t\t\tthis.filteredData = response;\r\n\t\t\t\t\t\t\t\t\tif (this.filteredData.length) {\r\n\t\t\t\t\t\t\t\t\t\tthis.onsearch.emit(key);\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> this.resize(true), 66);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (this.data) {\r\n\t\t\t\t\t\tthis.filteredData = this.data.filter( (item) => {\r\n\t\t\t\t\t\t\tlet keep = false;\r\n\t\t\t\t\t\t\tfor(let j = 0; j < this.keymap.length; j++) {\r\n\t\t\t\t\t\t\t\tconst k = this.keymap[j];\r\n\t\t\t\t\t\t\t\tlet tmp = item[k]\r\n\t\t\t\t\t\t\t\tconst v = tmp ? tmp.toLowerCase() : undefined;\r\n\t\t\t\t\t\t\t\tif (v && v.indexOf(key) >= 0) {\r\n\t\t\t\t\t\t\t\t\tkeep = true;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn keep;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (this.filteredData.length) {\r\n\t\t\t\t\t\t\tthis.onsearch.emit(key);\r\n\t\t\t\t\t\t\tsetTimeout(()=> this.resize(true), 66);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.filteredData = [];\r\n\t\t\t\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\t\t\t}\r\n\t\t\t}, this.delayby);\r\n\t\t}\r\n\t}\r\n\tselectTab(item) {\r\n\t\tthis.onselect.emit(item);\r\n\t\tthis.filteredData = [];\r\n\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\tthis.entry = \"\";\r\n\t}\r\n}\r\n","/*\r\n* Provides rendering of flexible tabs in a lazy load fashion.\r\n*/\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpModule } from '@angular/http';\r\n\r\nimport { FlexibleAutoCompleteComponent } from './flexible-auto-complete.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        HttpModule\r\n    ],\r\n    declarations: [\r\n        FlexibleAutoCompleteComponent\r\n    ],\r\n    exports: [\r\n        FlexibleAutoCompleteComponent\r\n    ],\r\n    entryComponents: [\r\n    ],\r\n    providers: [\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FlexibleAutoCompleteModule {}\r\n"],"names":["http","EventEmitter","Component","Http","ElementRef","Input","Output","NgModule","CommonModule","HttpModule","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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"}
