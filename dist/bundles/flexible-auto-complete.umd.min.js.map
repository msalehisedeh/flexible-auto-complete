{
  "version": 3,
  "file": "flexible-auto-complete.umd.min.js",
  "sources": [
    "ng://flexible-auto-complete/out/src/app/flexible-auto-complete/flexible-auto-complete.component.ts",
    "ng://flexible-auto-complete/out/src/app/flexible-auto-complete/flexible-auto-complete-module.ts"
  ],
  "sourcesContent": [
    "/*\r\n* Provides rendering of a table which is using the given FlexibleTableHeader set in\r\n* order to tabulate the given data. As per definition of earch header component,\r\n* a column could be hidden, sortable, or draggable. Each table row can expand/collapse\r\n* or respond to a click action.\r\n*/\r\nimport {\r\n    Component,\r\n\tInput,\r\n\tOutput,\r\n\tAfterViewInit,\r\n\tEventEmitter,\r\n\tElementRef\r\n} from '@angular/core';\r\n\r\nimport { Http } from '@angular/http';\r\n\r\n@Component({\r\n\tselector: 'flexible-auto-complete',\r\n\ttemplate: `\r\n<label for=\"\">\r\n    <span class=\"off-screen\" [textContent]=\"message\"></span>\r\n    <input [value]=\"entry\"\r\n        [placeholder]= \"placeholder\"\r\n        (keyup)=\"keyup($event)\" />\r\n    <span [class]=\"icon ? icon : null\" *ngIf=\"filteredData.length == 0\" [class.icon]=\"true\" area-hidden=\"true\"></span>\r\n    <span class=\"icon fa fa-reply\" *ngIf=\"icon && filteredData.length\" area-hidden=\"true\"></span>\r\n</label>\r\n<ul *ngIf=\"filteredData.length\" \r\n    role=\"list\" \r\n    class=\"viewport\" \r\n    [class.fix-height]=\"allowdropdown\"\r\n    [style.max-width]=\"direction === 'horizontal' ? viewport : null\"\r\n    [style.overflow-x]=\"direction === 'horizontal' ? 'auto' : null\"\r\n    [style.flex-direction]=\"direction === 'horizontal' ? 'row' : 'column'\"\r\n    [style.max-height]=\"direction === 'vertical' ? viewport : null\"\r\n    [style.overflow-y]=\"direction === 'vertical' ? 'auto' : null\">\r\n    <li \r\n        *ngFor=\"let item of filteredData; let i = index\" \r\n        role=\"listitem\" \r\n        tabindex=\"0\" \r\n        [id]=\"'item' + i\" \r\n        (keyup)=\"clickup($event, item, i, filteredData.length)\" \r\n        (click)=\"selectTab(item)\">\r\n        <ng-container  \r\n            [ngTemplateOutlet]=\"template ? template : defaultTemplate\" \r\n            [ngTemplateOutletContext]=\"{data: item}\"></ng-container>\r\n        <span class=\"icon fa fa-reply\" area-hidden=\"true\"></span>\r\n    </li>\r\n</ul>\r\n\r\n<ng-template #defaultTemplate let-detail=\"data\">\r\n  <span *ngFor=\"let x of keymap\" [textContent]=\"detail[x] + '&nbsp;'\"></span>\r\n</ng-template>\r\n`,\r\n\tstyles: [`:host{display:table;position:relative}:host.has-data{-webkit-transition:width 3s ease-in-out;transition:width 3s ease-in-out;width:100%}:host label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;border:1px solid #ddd;padding:2px;height:22px;vertical-align:top;border-radius:2px;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 0 1px rgba(0,0,0,.08);box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 0 1px rgba(0,0,0,.08);-webkit-transition:-webkit-box-shadow .2s cubic-bezier(.4,0,.2,1);transition:-webkit-box-shadow .2s cubic-bezier(.4,0,.2,1);transition:box-shadow .2s cubic-bezier(.4,0,.2,1);transition:box-shadow .2s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .2s cubic-bezier(.4,0,.2,1)}:host label input{-webkit-box-flex:1;-ms-flex:1;flex:1;border:0;padding-left:16px}:host label .icon{-webkit-box-flex:0;-ms-flex:0 0 15px;flex:0 0 15px;margin-right:5px;margin-top:3px;color:#ddd}:host .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host .viewport{-webkit-box-sizing:border-box;box-sizing:border-box;list-style-type:none;display:-webkit-box;display:-ms-flexbox;display:flex;margin:0;padding:0;z-index:2;border:1px solid #ddd;border-radius:2px;background-color:#fff;overflow:hidden;width:100%;-webkit-transition:height 3s ease-in-out;transition:height 3s ease-in-out}:host .viewport.fix-height{position:absolute}:host .viewport li{-webkit-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;background-color:#fdfeff;padding:2px 5px;position:relative}:host .viewport li:hover{background-color:#ff3e58}:host .viewport li:focus{background-color:#3e8bff}:host .viewport li .icon{color:#fff;display:block;right:0;top:5px;position:absolute;margin-right:10px}`]\r\n})\r\nexport class FlexibleAutoCompleteComponent implements AfterViewInit{\r\n\r\n\tprivate interval: any;\r\n\r\n\tentry = \"\";\r\n\tfilteredData: any[] = [];\r\n\r\n\t@Input(\"placeholder\")\r\n\tpublic placeholder = \"\";\r\n\t\r\n\t@Input(\"remotepath\")\r\n\tpublic remotepath = \"body\";\r\n\t\r\n\t@Input(\"prefetchdata\")\r\n\tpublic prefetchdata = false;\r\n\t\r\n\t@Input(\"animateonresult\")\r\n\tpublic animateonresult = false;\r\n\t\r\n\t@Input(\"allowdropdown\")\r\n\tpublic allowdropdown = false;\r\n\t\r\n\t@Input('keymap')\r\n    public keymap: any[] = [];\r\n\r\n    @Input(\"icon\")\r\n    public icon = \"\";\r\n\r\n    @Input(\"message\")\r\n    public message = \"\";\r\n\r\n\t@Input(\"direction\")\r\n    public direction = \"vertical\";\r\n\r\n    @Input(\"delayby\")\r\n    public delayby = 300;\r\n\r\n    @Input(\"triggeron\")\r\n    public triggeron = 2;\r\n\r\n    @Input(\"viewport\")\r\n    public viewport = \"200px\";\r\n\r\n\t@Input(\"template\")\r\n    public template: any;\r\n\r\n    @Input(\"source\")\r\n    public source: string;\r\n\r\n    @Input(\"data\")\r\n    public data: any;\r\n\r\n\t@Output(\"onselect\")\r\n\tonselect = new EventEmitter();\r\n\r\n\t@Output(\"onsearch\")\r\n\tonsearch = new EventEmitter();\r\n\r\n\tconstructor(private http: Http, private el: ElementRef) {}\r\n\t\r\n\tngAfterViewInit() {\r\n\t\tthis.resize(false);\r\n\t\tif (this.prefetchdata && this.source) {\r\n\t\t\tthis.http.get(this.source).subscribe(\r\n\t\t\t\t(result: any) => {\r\n\t\t\t\t\tconst response = this.traverseResult(result);\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tthis.data = response;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate traverseResult(response) {\r\n\t\tconst list = this.remotepath.split(\".\");\r\n\t\tlist.map( (item) => {\r\n\t\t\tresponse = response ? response[item] : undefined;\r\n\t\t});\r\n\t\tconst x = list.length ? response : undefined;\r\n\t\treturn x && (typeof x === \"string\") ? JSON.parse(x) : x;\r\n\t}\r\n\r\n\tclickup(event, item, i, max) {\r\n\t\tconst code = event.which;\r\n\t\t\r\n\t\tif (code === 13) {\r\n\t\t\tthis.selectTab( item );\r\n\t\t} else if (code === 38 && i>0) { // arrow up\r\n\t\t\tdocument.getElementById(\"item\" + ( i - 1)).focus();\r\n\t\t} else if (code === 40 && i < max) { // arrow down\r\n\t\t\tdocument.getElementById(\"item\" + ( i + 1)).focus();\r\n\t\t}\r\n\t}\r\n\tprivate resize(flag) {\r\n\t\tif (this.animateonresult) {\r\n\t\t\tif (flag) {\r\n\t\t\t\tthis.el.nativeElement.classList.add(\"has-data\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.el.nativeElement.classList.remove(\"has-data\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.el.nativeElement.classList.add(\"has-data\");\r\n\t\t}\r\n\t}\r\n\tkeyup(event) {\r\n        const code = event.which;\r\n\t\t\r\n\t\tif (code === 13) {\r\n\t\t\tif (this.filteredData && this.filteredData.length) {\r\n\t\t\t\tthis.selectTab( this.filteredData[0] );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.entry = event.target.value;\r\n\t\t\tif (this.interval) {\r\n\t\t\t\tclearTimeout(this.interval);\r\n\t\t\t}\r\n\t\t\tthis.interval = setTimeout( () => {\r\n\t\t\t\tconst key = this.entry.toLowerCase();\r\n\t\t\t\tif (key.length > this.triggeron) {\r\n\t\t\t\t\tif (!this.prefetchdata && this.source) {\r\n\t\t\t\t\t\tthis.http.get(this.source + key).subscribe(\r\n\t\t\t\t\t\t\t(result: any) => {\r\n\t\t\t\t\t\t\t\tconst response = this.traverseResult(result);\r\n\t\t\t\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\t\t\t\tthis.data = response;\r\n\t\t\t\t\t\t\t\t\tthis.filteredData = response;\r\n\t\t\t\t\t\t\t\t\tif (this.filteredData.length) {\r\n\t\t\t\t\t\t\t\t\t\tthis.onsearch.emit(key);\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> this.resize(true), 66);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (this.data) {\r\n\t\t\t\t\t\tthis.filteredData = this.data.filter( (item) => {\r\n\t\t\t\t\t\t\tlet keep = false;\r\n\t\t\t\t\t\t\tfor(let j = 0; j < this.keymap.length; j++) {\r\n\t\t\t\t\t\t\t\tconst k = this.keymap[j];\r\n\t\t\t\t\t\t\t\tlet tmp = item[k]\r\n\t\t\t\t\t\t\t\tconst v = tmp ? tmp.toLowerCase() : undefined;\r\n\t\t\t\t\t\t\t\tif (v && v.indexOf(key) >= 0) {\r\n\t\t\t\t\t\t\t\t\tkeep = true;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn keep;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (this.filteredData.length) {\r\n\t\t\t\t\t\t\tthis.onsearch.emit(key);\r\n\t\t\t\t\t\t\tsetTimeout(()=> this.resize(true), 66);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.filteredData = [];\r\n\t\t\t\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\t\t\t}\r\n\t\t\t}, this.delayby);\r\n\t\t}\r\n\t}\r\n\tselectTab(item) {\r\n\t\tthis.onselect.emit(item);\r\n\t\tthis.filteredData = [];\r\n\t\tsetTimeout(()=> this.resize(false), 66);\r\n\t\tthis.entry = \"\";\r\n\t}\r\n}\r\n",
    "/*\r\n* Provides rendering of flexible tabs in a lazy load fashion.\r\n*/\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpModule } from '@angular/http';\r\n\r\nimport { FlexibleAutoCompleteComponent } from './flexible-auto-complete.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        HttpModule\r\n    ],\r\n    declarations: [\r\n        FlexibleAutoCompleteComponent\r\n    ],\r\n    exports: [\r\n        FlexibleAutoCompleteComponent\r\n    ],\r\n    entryComponents: [\r\n    ],\r\n    providers: [\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FlexibleAutoCompleteModule {}\r\n"
  ],
  "names": [
    "FlexibleAutoCompleteComponent",
    "http",
    "el",
    "this",
    "entry",
    "filteredData",
    "placeholder",
    "remotepath",
    "prefetchdata",
    "animateonresult",
    "allowdropdown",
    "keymap",
    "icon",
    "message",
    "direction",
    "delayby",
    "triggeron",
    "viewport",
    "onselect",
    "EventEmitter",
    "onsearch",
    "prototype",
    "ngAfterViewInit",
    "_this",
    "resize",
    "source",
    "get",
    "subscribe",
    "result",
    "response",
    "traverseResult",
    "data",
    "list",
    "split",
    "map",
    "item",
    "undefined",
    "x",
    "length",
    "JSON",
    "parse",
    "clickup",
    "event",
    "i",
    "max",
    "code",
    "which",
    "selectTab",
    "document",
    "getElementById",
    "focus",
    "flag",
    "nativeElement",
    "classList",
    "add",
    "remove",
    "keyup",
    "target",
    "value",
    "interval",
    "clearTimeout",
    "setTimeout",
    "key",
    "toLowerCase",
    "emit",
    "filter",
    "keep",
    "j",
    "tmp",
    "v",
    "indexOf",
    "type",
    "Component",
    "args",
    "selector",
    "template",
    "styles",
    "Http",
    "ElementRef",
    "Input",
    "Output",
    "FlexibleAutoCompleteModule",
    "NgModule",
    "imports",
    "CommonModule",
    "HttpModule",
    "declarations",
    "exports",
    "entryComponents",
    "providers",
    "schemas",
    "CUSTOM_ELEMENTS_SCHEMA"
  ],
  "mappings": "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"
}
